(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,r,o,c){var a=e.querySelector(".card").cloneNode(!0),s=a.querySelector(".card__image"),d=a.querySelector(".card__delete-button"),i=a.querySelector(".card__like-button");return s.src=n,s.alt=t,a.querySelector(".card__title").textContent=t,d.addEventListener("click",(function(){r(a)})),s.addEventListener("click",(function(e){c(e)})),i.addEventListener("click",o),a}function n(e){e.remove()}var r=function(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")};function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",a)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",a)}function a(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))}function s(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup"))&&c(e.currentTarget)}var d=document.querySelector(".places__list"),i=document.querySelector(".popup_type_edit"),p=document.querySelector(".popup_type_new-card"),l=document.querySelector(".popup_type_image"),u=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__add-button"),_=document.querySelector(".profile__title"),v=document.querySelector(".profile__description"),y=document.forms["edit-profile"],f=document.forms["new-place"],k=f.elements["place-name"],g=f.elements.link,q=y.elements.name,S=y.elements.description,L=l.querySelector(".popup__image"),E=l.querySelector(".popup__caption");function h(e){L.src=e.target.src,L.alt=e.target.alt,E.textContent=e.target.alt,o(l)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){d.append(t(e.name,e.link,n,r,h))})),document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated"),e.addEventListener("click",s)})),u.addEventListener("click",(function(){q.value=_.textContent,S.value=v.textContent,o(i)})),y.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=q.value,v.textContent=S.value,c(i)})),m.addEventListener("click",(function(){o(p),f.reset()})),f.addEventListener("submit",(function(e){e.preventDefault();var o=t(k.value,g.value,n,r,h);d.prepend(o),c(p)}))})();